<!-- HTML header for doxygen 1.12.0-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.16.1"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>MaterialXWeb: NodeJs MaterialX Library Inspector</title>
<link rel="icon" href="toon_sphere.png" type="image/x-icon" />
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<!-- Font Awesome CDN -->
<link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css" rel="stylesheet">
<!-- Bootstrap CSS -->
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.1/dist/css/bootstrap.min.css" rel="stylesheet">
<!-- Mermaid.js for diagram rendering -->
<!-- <script type="module">
  import mermaid from "https://cdn.jsdelivr.net/npm/mermaid/dist/mermaid.esm.min.mjs";
  mermaid.initialize({ startOnLoad: true });
</script> -->
<script src="https://unpkg.com/mermaid/dist/mermaid.min.js"></script>
<script>
  mermaid.initialize({
    startOnLoad: true,
    theme: "dark"
  });
</script>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/javascript" src="clipboard.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript" src="cookie.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="stylesheet.css" rel="stylesheet" type="text/css" />
<link href="doxygen-awesome.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectlogo"><img alt="Logo" src="MX_LAB.svg" style="width: 48px"/></td>
  <td id="projectalign">
   <div id="projectname">MaterialXWeb<span id="projectnumber">&#160;1.39.5</span>
   </div>
   <div id="projectbrief">Utilities for using MaterialX Packages with Web clients</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.16.1 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search/",'.html');
</script>
<script type="text/javascript">
$(function() { codefold.init(); });
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search',true);
  $(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(function(){initNavTree('md__d_1_2_work_2materialx_2materialx_web_2nodejs_2materialx_library_inspector_2_r_e_a_d_m_e__dox.html','',''); });
</script>
<div id="container">
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div><div class="header">
  <div class="headertitle"><div class="title">NodeJs MaterialX Library Inspector </div></div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p><a class="anchor" id="autotoc_md22"></a></p>
<p>Application to examine MaterialX based materials from various publish libraries. This inclides AMD GPU open, and AmbientCG currently.</p>
<p>Below are some sample materials packages that can be previewed and or downloaded as zip files. Note that any non MaterialX or non iage files (such as OpenUSD (usdc) files from AmbientCG) are not displayed in previews but are part of downloaded packages.</p>
<p>Note that some packages may take some time to download / preview due to the time it takes to download large flles (e.g. 8K images)</p>
<table class="markdownTable">
<tr class="markdownTableHead">
<th class="markdownTableHeadCenter">Package  </th><th class="markdownTableHeadCenter">Download  </th></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyCenter">AmbientCG Tile  </td><td class="markdownTableBodyCenter"><img src="https://github.com/kwokcb/materialxWeb/blob/main/nodejs/materialxLibraryInspector/public/images/ambientCg_download_3.png?raw=true" alt="" width="100%" class="inline"/>  </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyCenter">GPUOpen  </td><td class="markdownTableBodyCenter"><img src="https://github.com/kwokcb/materialxWeb/blob/main/nodejs/materialxLibraryInspector/public/images/gpuOpen_download_1.png?raw=true" alt="" width="100%" class="inline"/>  </td></tr>
</table>
<p>Below is an example of hosting on <a href="https://render.com/">Render</a></p>
<p><img src="https://github.com/kwokcb/materialxWeb/blob/main/nodejs/materialxLibraryInspector/public/images/hosting_on_render_1.png?raw=true" alt="" width="100%" class="inline"/></p>
<h1 class="doxsection"><a class="anchor" id="autotoc_md23"></a>
Architecture Overview</h1>
<p>The package is built using <span class="tt">NodeJs</span> and <span class="tt">Express</span> for the server, and JavaScript for the client. The server serves static files from the <span class="tt">public</span> directory, and also provides API endpoints to fetch material data and download material packages (Zip files) containing MaterialX files and associated assets.</p>
<h2 class="doxsection"><a class="anchor" id="autotoc_md24"></a>
Fetching Material Lists</h2>
<p>The client fetches material lists from the server and displays it on a web page.</p>
<p>The server uses two loader classes, <span class="tt">JsAmbientCGLoader</span> and <span class="tt"><a class="el" href="class_js_g_p_u_open_material_loader.html" title="Class to download MaterialX materials from the GPUOpen material database.">JsGPUOpenMaterialLoader</a></span>, to handle the fetching and processing of material data (in JSON form) from the AmbientCG and GPUOpen sites respectively.</p>
<p>The client uses this data to display material previews and provide download links for the material packages.</p>
<p>For <span class="tt">AmbientCG</span> both a download list as well as full material "database" is fetched. The latter is to retrieve metadata such as author, description, preview images etc.</p>
<pre><code class="language-mermaid"><div class="mermaid">
flowchart LR
    subgraph Client
        A[main.js]
        A --&gt;|fetch /api/materials| B[Express Server]
        A --&gt;|fetch /api/downloadAmbientCGPackage| B
        A --&gt;|fetch /api/downloadGPUOpenPackage| B
        A --&gt;|render material list| I[displayAmbientCGMaterials / displayGPUOpenMaterials]
        A --&gt;|unpack/display ZIP| J[displayMaterialPackage]
        I --&gt;|update DOM| K[materialsContainer]
        J --&gt;|show images, MaterialX| L[extracted_images, extracted_mtlx]
    end
    subgraph Server
        B[<a class="el" href="material_server_8cjs_source.html">materialServer.cjs</a>]
        B --&gt;|require| C[<a class="el" href="_js_ambient_c_g_loader_8js_source.html">JsAmbientCGLoader.js</a>]
        B --&gt;|require| D[<a class="el" href="_js_g_p_u_open_material_loader_8js_source.html">JsGPUOpenMaterialLoader.js</a>]
    end
    subgraph Data
        E[ambientcg_database.json]
        F[ambientcg_materials.json]
        G[gpuopen_materials.json]
    end
    C --&gt; E
    C --&gt; F
    D --&gt; G
    B --&gt;|serves static| H[public/]
    H --&gt;|main.js, index.html, images| Client

</div></code></pre><h2 class="doxsection"><a class="anchor" id="autotoc_md25"></a>
Material Fetch/Download Logic</h2>
<p>The sequence diagram below illustrates the interactions between the browser, server, and loader classes when fetching material lists and downloading material packages (ZIP).</p>
<p>ZIP data is unpacked on the client side to display <span class="tt">MaterialX</span> document content and dependent images.</p>
<pre><code class="language-mermaid"><div class="mermaid">
sequenceDiagram
participant Browser
participant Server
participant AmbientCg_Loader
participant GPUOpenLoader
participant DOM
Browser-&gt;&gt;Server: GET /api/materials?source="AmbientCGLoader"
Server-&gt;&gt;AmbientCg_Loader: downloadMaterialsList()
AmbientCg_Loader--&gt;&gt;Server: [materials JSON]
Server--&gt;&gt;Browser: [materials JSON]
Browser-&gt;&gt;DOM: displayAmbientCGMaterials
Browser-&gt;&gt;Server: GET /api/downloadAmbientCGPackage
Server-&gt;&gt;AmbientCg_Loader: downloadMaterialAsset
AmbientCg_Loader--&gt;&gt;Server: [zip data]
Server--&gt;&gt;Browser: [zip data]
Browser-&gt;&gt;DOM: displayMaterialPackage - unpack ZIP, show images, MaterialX
Browser-&gt;&gt;Server: GET /api/materials?source="GPUOpen"
Server-&gt;&gt;GPUOpenLoader: getMaterials
GPUOpenLoader--&gt;&gt;Server: [materials JSON]
Server--&gt;&gt;Browser: [materials JSON]
Browser-&gt;&gt;DOM: displayGPUOpenMaterials
Browser-&gt;&gt;Server: GET /api/downloadGPUOpenPackage
Server-&gt;&gt;GPUOpenLoader: downloadPackage
GPUOpenLoader--&gt;&gt;Server: [zip data]
Server--&gt;&gt;Browser: [zip data]
Browser-&gt;&gt;DOM: displayMaterialPackage - unpack ZIP, show images, MaterialX

</div></code></pre><h2 class="doxsection"><a class="anchor" id="autotoc_md26"></a>
Loader Class Dependencies</h2>
<p>The package dependencies for the loader classes <span class="tt">AmbientCgLoader</span> and <span class="tt"><a class="el" href="class_js_g_p_u_open_material_loader.html" title="Class to download MaterialX materials from the GPUOpen material database.">JsGPUOpenMaterialLoader</a></span> are shown below.</p>
<pre><code class="language-mermaid"><div class="mermaid">
flowchart TD
    subgraph Loader Classes
        A[<a class="el" href="_js_ambient_c_g_loader_8js_source.html">JsAmbientCGLoader.js</a>]
        B[<a class="el" href="_js_g_p_u_open_material_loader_8js_source.html">JsGPUOpenMaterialLoader.js</a>]
    end
    A -- fetch, fs, csv-parse --&gt; C[AmbientCG APIs &amp; Files]
    B -- fetch, fs --&gt; D[GPUOpen APIs &amp; Files]
    C -- produces --&gt; E[ambientcg_database.json, ambientcg_materials.json, zip files]
    D -- produces --&gt; F[gpuopen_materials.json, zip files]
    A -- exports --&gt; G[<a class="el" href="class_ambient_c_g_loader.html">AmbientCGLoader</a> instance]
    B -- exports --&gt; H[<a class="el" href="class_js_g_p_u_open_material_loader.html" title="Class to download MaterialX materials from the GPUOpen material database.">JsGPUOpenMaterialLoader</a> instance]

</div></code></pre> </div></div><!-- contents -->
</div><!-- PageDoc -->
</div><!-- doc-content -->
<div id="page-nav" class="page-nav-panel">
<div id="page-nav-resize-handle"></div>
<div id="page-nav-tree">
<div id="page-nav-contents">
</div><!-- page-nav-contents -->
</div><!-- page-nav-tree -->
</div><!-- page-nav -->
</div><!-- container -->
<!-- HTML footer for doxygen 1.12.0-->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li>
      <button class="btn btn-outline" type="button">
        <a href="https://github.com/kwokcb/MaterialXWeb" target="_blank"><b class="fa-brands fa-github fa-1x"
            style="color: #ffffff;"></b></a>
      </button>
      <button class="btn btn-outline " type="button">
        <a href="https://www.linkedin.com/in/bernard-kwok/" target="_blank"><b class="fa-brands fa-linkedin-in fa-1x"
            style="color: #0082ca;"></b></a>
      </button>
    </li>
    <li><a href="http://creativecommons.org/licenses/by-nc-sa/4.0/">
        <img alt="Creative Commons License" style="border-width:0; width: 48px"
          src="https://i.creativecommons.org/l/by-nc-sa/4.0/88x31.png" />
    </li>
    </a>
    <li><a href="https://kwokcb.github.io/nanmuconsulting/" target="_blank" style="color: #333; text-decoration: none;">
        &copy; 2022-2026 NanMu Consulting.
      </a>
    </li>
  </ul>
</div>
<!-- Bootstrap JS (Optional) -->
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
</body>
</html>
